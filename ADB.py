#!/usr/bin/python3

import subprocess

devices=subprocess.run("adb devices | awk {'print $1'} | grep -v -E 'List'",capture_output=True, shell=True, text=True)
ip=str(devices.stdout).split("\n")
wifi,serials,Index_adb=[],[],None
for x in ip:
    if x=="":
        pass
    else:
        if "." in x:
            wifi.append(x)
        else:
            serials.append(x)
Index_adb=input("To see all connected devices press 1 \n" +
                 "press 2 to list the name of the devices :")
if Index_adb=="1":
    if wifi!=None:
        print("Wireless Devices")
        for i in wifi:
            print(i)
    print( )
    if serials!=None: 
        print("USB Devices")
        for i in serials:
            print(i)
if Index_adb=="2":
    a=subprocess.run("adb devices -l | grep -v ^$ | awk {'if(NR>1) print $0'}",shell=True,capture_output=True)
    print(a.stdout.decode(),end="")



